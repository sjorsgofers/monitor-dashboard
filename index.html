<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zusje Roermond Dashboard</title>
  <style>
    html, body { height:100%; margin:0; background:#000; overflow:auto; }
    #dashboard-shell{
      position:relative;
      width:100%;
      min-height:100vh;
      background:#f3f6fb;
      overflow:auto;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    }
    .zd-stage{ position:relative; width:100%; height:100%; display:flex; justify-content:center; align-items:center; }
    .zd-frame{
      width:1600px;
      height:900px;
      transform-origin:center top;
      transform:scale(1);
      transition:transform 0.2s ease;
    }
    .zd-wrap{ width:100%; height:100%; padding:28px; color:#0b1220; background:#f3f6fb; }

    /* Titel + header */
    .zd-header{ display:flex; align-items:flex-end; justify-content:space-between; margin-bottom:24px; }
    .zd-title{ font-weight:900; font-size:44px; letter-spacing:.2px; background:linear-gradient(90deg,#2563eb,#06b6d4); -webkit-background-clip:text; background-clip:text; color:transparent; }
    .zd-meta{ color:#60708d; font-size:18px; margin-top:8px; }
    .zd-clock{ font-variant-numeric:tabular-nums; font-weight:900; font-size:42px; color:#0f172a; text-align:right; }
    .zd-date{ color:#60708d; font-size:18px; text-align:right; }

    /* Grid */
    .zd-grid{ display:grid; gap:24px; grid-template-columns:repeat(12,1fr); height:calc(100% - 110px); }
    .zd-col-4{ grid-column:span 4; }
    .zd-panel{ background:#eef2f7; border:1px solid #dde3ef; border-radius:28px; padding:14px; box-shadow:0 20px 50px rgba(15,23,42,.08); }
    .zd-card{ background:#fff; border:1px solid #e5e7eb; border-radius:22px; box-shadow:0 10px 28px rgba(15,23,42,.10); display:flex; flex-direction:column; overflow:hidden; min-height:170px; }
    .zd-card + .zd-card{ margin-top:16px; }

    .zd-band{ height:10px; width:100%; }
    .zd-band-check{ background:linear-gradient(90deg,#2563eb,#7ea5ff); }
    .zd-band-period{ background:linear-gradient(90deg,#0ea5a4,#8cf2e8); }
    .zd-band-orders{ background:linear-gradient(90deg,#f59e0b,#ffe29a); }
    .zd-band-waste{ background:linear-gradient(90deg,#16a34a,#a7f3d0); }

    .zd-card-h{ padding:18px 20px; border-bottom:1px solid #eef2f7; font-weight:900; font-size:22px; color:#0f172a; background:linear-gradient(#ffffff,#fbfdff); display:flex; align-items:center; gap:10px; }
    .zd-tag{ margin-left:auto; font-size:12px; font-weight:800; color:#0b1220; padding:6px 12px; border-radius:999px; border:1px solid #e5e7eb; background:#eef6ff; }
    .zd-card-b{ padding:20px; gap:14px; display:flex; flex-direction:column; flex:1; overflow:auto; }

    .zd-list{ display:flex; flex-direction:column; gap:12px; }
    .zd-item{ display:flex; align-items:center; justify-content:space-between; background:#f8fafc; padding:16px 18px; border-radius:14px; border:1px solid #e5e7eb; }
    .zd-name{ font-weight:800; letter-spacing:.2px; font-size:18px; color:#0b1220; }
    .zd-name em{ font-style:normal; color:#64748b; font-weight:700; }

    .zd-chip{ display:inline-flex; align-items:center; gap:8px; font-weight:900; font-size:16px; line-height:1; padding:10px 14px; border-radius:999px; border:1px solid transparent; box-shadow:0 6px 16px rgba(0,0,0,.06); }
    .zd-ok{ color:#065f46; border-color:rgba(16,185,129,.35); background:linear-gradient(180deg,#d1fae5,#a7f3d0); }
    .zd-warn{ color:#7c2d12; border-color:rgba(245,158,11,.4); background:linear-gradient(180deg,#fef3c7,#fde68a); }
    .zd-bad{ color:#7f1d1d; border-color:rgba(239,68,68,.4); background:linear-gradient(180deg,#fee2e2,#fecaca); }
    .zd-open{ color:#023047; border-color:rgba(6,182,212,.35); background:linear-gradient(180deg,#cffafe,#bae6fd); }
  </style>
</head>
<body>
  <div id="dashboard-shell">
    <div class="zd-stage">
      <div class="zd-frame" id="zd-frame">
        <div class="zd-wrap">
          <div class="zd-header">
            <div>
              <div class="zd-title">Zusje Roermond Dashboard</div>
              <div class="zd-meta">Alleen items voor <strong>vandaag</strong> (horecadag t/m 04:00)</div>
            </div>
            <div style="text-align:right">
              <div class="zd-clock" id="zd-clock">--:--</div>
              <div class="zd-date" id="zd-date">â€”</div>
            </div>
          </div>

          <!-- GRID 3 kolommen -->
          <div class="zd-grid">
            <div class="zd-panel zd-col-4">
              <section class="zd-card">
                <div class="zd-band zd-band-check"></div>
                <div class="zd-card-h">Checklisten <span class="zd-tag">Team</span></div>
                <div class="zd-card-b"><div class="zd-list" id="zd-checklistList"></div></div>
              </section>
            </div>

            <div class="zd-panel zd-col-4">
              <section class="zd-card">
                <div class="zd-band zd-band-waste"></div>
                <div class="zd-card-h">Containers <span class="zd-tag">Buiten</span></div>
                <div class="zd-card-b"><div class="zd-list" id="zd-wasteContainers"></div></div>
              </section>
              <section class="zd-card">
                <div class="zd-band zd-band-waste"></div>
                <div class="zd-card-h">Emballage <span class="zd-tag">Buiten</span></div>
                <div class="zd-card-b"><div class="zd-list" id="zd-wasteEmballage"></div></div>
              </section>
            </div>

            <div class="zd-panel zd-col-4">
              <section class="zd-card">
                <div class="zd-band zd-band-period"></div>
                <div class="zd-card-h">Periodieke taken (vandaag) <span class="zd-tag">Schema</span></div>
                <div class="zd-card-b"><div class="zd-list" id="zd-periodicList"></div></div>
              </section>
              <section class="zd-card">
                <div class="zd-band zd-band-orders"></div>
                <div class="zd-card-h">Bestellen (vandaag) <span class="zd-tag">Deadlines</span></div>
                <div class="zd-card-b"><div class="zd-list" id="zd-ordersList"></div></div>
              </section>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
  (function(){
    const CONFIG = {
      sheets:{
        checklistsJson:"https://script.google.com/macros/s/AKfycbw_Tn0z0s3AJ7CARzHt9sFy8CGhrCe_HzS9ao0KKDtgzq9TR_H-28WBss316I6PDcr7/exec",
        periodicJson:"https://script.google.com/macros/s/AKfycbxEDSHzBOrrYqkNOCQI6clM6DNuoge55tdATn1XNC63HT7GgPcsZF5AT3dwfaLjEUmV/exec",
        containersJson:"https://script.google.com/macros/s/AKfycbwPQ1WsRqrJmRuYD8bL6kz5H5sSDNcBsIa0z-WW4hain7fkVhM6HIUQI3DHyhpn-C1zHQ/exec"
      },
      refreshMs:15000
    };

    const FRAME_W = 1600, FRAME_H = 900, SAFE_MARGIN_PX = 24;
    const frame = document.getElementById('zd-frame');

    function fitFrame(){
      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const scale = Math.min(
        (vw - SAFE_MARGIN_PX) / FRAME_W,
        (vh - SAFE_MARGIN_PX) / FRAME_H
      );
      const topOffset = Math.max((vh - FRAME_H * scale) / 2, SAFE_MARGIN_PX/2);
      frame.style.transform = `translateY(${topOffset}px) scale(${scale})`;
    }

    document.addEventListener('keydown', e=>{
      if((e.key||'').toLowerCase()==='f'){
        if(document.fullscreenElement) document.exitFullscreen();
        else document.documentElement.requestFullscreen();
      }
    });

    window.addEventListener('resize', fitFrame);
    document.addEventListener('fullscreenchange', fitFrame);
    fitFrame();

    /* Dummy klok zodat je kan testen */
    setInterval(()=>{
      const n=new Date();
      document.getElementById('zd-clock').textContent =
        n.toLocaleTimeString('nl-NL',{hour:'2-digit',minute:'2-digit',second:'2-digit'});
      document.getElementById('zd-date').textContent =
        n.toLocaleDateString('nl-NL',{weekday:'long',day:'numeric',month:'long'});
      fitFrame();
    },1000);
  })();
  </script>
</body>
</html>
